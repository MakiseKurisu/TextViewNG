<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="utf-8" lang="utf-8">
 <head>
  <title>
   Haali Reader - программа для чтения книг под Windows CE
  </title>
  <link rel="stylesheet" type="text/css" href="=.css">
 </head>
 <body>
  <div class="topmenu">
 <a class="menu sep" href="index.ru.html">Главная</a>
 <a class="menu sep" href="news.ru.html">Новости</a>
 <a class="menu sep" href="download.ru.html">Скачать</a>
 <a class="menu sep" href="scripts.ru.html">Скрипты</a>
 <a class="menu" href="index.en.html">English page</a>
<!-- <br>
 <a class="menu small sep" href="http://haali.cs.msu.ru/pocketpc/">Зеркало 1</a>
 <a class="menu small" href="http://haali.rt.ru/pocketpc/">Зеркало 2</a></p> -->
</div>
<!-- vim: set syn=html : -->

  <h4>Новости:</h4>
  <ul>
   <li> 29/04/02 171 Исправлен глюк с зависанием при полях нулевой ширины и многострочном
		 выделении, добавлена возможность отключать градусник внизу окна, немного
		 улучшено рисование шрифтов с синтезируемым наклонным вариантом.</li>
   <li> 19/04/02 170 Добавлены элементы Cite, Stanza в диалог Styles, информация о файлах с очень
		 длинными русскими именами и файлах в архивах должна нормально сохраняться.</li>
   <li> 10/04/02 169 Назначаемые на кнопки команды для перехода на соседнюю главу, слегка изменен
                 progress-bar, добавлено меню с последними открытыми файлами, добавлена кнопка
		 настройки в диалоге словаря для не PPC машин, исправлен глюк, приводивший к
		 установке в Auto формата файла и кодировки при открытии файла, двойной тап по
		 элементу оглавления теперь переходит к этому элементу без нажатия OK, в
		 заголовке окна опять показывается имя открытого файла.</li>
   <li> 01/04/02 166 Новый progress-bar в окне с текстом, стрелочки в progress-bare предназначены
		 для перхода к следующей главе/закладке, в окне Goto можно теперь вводить
		 следующие смещения: XXX% - в процентах от начала файла, XXX:XXX - абзац:смещение
		 внутри абзаца, просто XXX - только абзац. Все это можно ввести и без диалога
		 Goto прямо в основное окно программы: XXX= XXX:XXX= XXX% XXXp.</li>
   <li> 27/03/02 165 Ускорено чтение XML, убраны ограничения на количество закладок,
		 добавлена поддержка BE300, Закладки теперь могут дописываться прямо в
		 конец XML файла в виде PI, настройка находится в Options-&gt;General,
		 оглавление теперь представлено в виде дерева, автоматическое сохранение
		 текущей позиции раз в 5 минут, при вызове оглавления автоматически
		 выбирается текущая глава, зеленая стрелка становится неактивной, когда
		 стек запомненых позиций пуст, улучшен градусник, показывающийся при
		 загрузке больших файлов.</li>
   <li> 27/02/02 152 Поправлена ошибка при вызове словаря и ненастроенном
		 списке словарей, при редактировании закладок нажатие OK сохраняет
		 изменения в редактируемой строке, при добавлении закладки теперь
		 автоматически подставляется выделенный текст.</li>
   <li> 25/02/02 151 Глюк при наборе слова в диалоге словаря убран, добавлены
		 клавиши в диалоге оглавления (F2 - edit, Del - delete), добавлены
		 клавиши для всей программы (Ctrl-O, Ctrl-F, Backspace).</li>
   <li> 22/02/02 150 Поправлен серьезный глюк в коде для чтения файлов. И
                 Как его раньше никто не замечал.</li>
   <li> 21/02/02 149 Серьезно переделан словарь, теперь ключевые слова
		 могут быть на любом языке, который поддерживается Windows,
		 а само содержимое словаря может быть в любой кодировке.
		 Исходники программы для изготовления словарей теперь идут
		 вместе с читалкой.
		 Поддерживается использование нескольких словарей. Полностью
		 переделана работа с кодировками текста.</li>
   <li> 02/02/02 136 Увеличен максимальный размер абзаца, в диалогах
		 оглавления и открытия файла теперь есть кнопка Cancel, а
		 кнопка OK работает более стандартным образом. При открытии
		 файла градусник всегда показывается через 700мс. Выложены
		 откомпилированные файлы для HPC Pro, выбросил форматирование
		 статей из окна словаря, теперь это делается при подготовке
		 словаря, выложен новый словарь.
   <li> 12/01/02 130 Добавлены какие-то мелочи. В предыдущей новости допущена
		 ошибка, на самом деле код прислал
		 Artem Artemyev, приношу извинения за свою невнимательность.</li>
   <li> 29/12/01 129 Добавлено автоопределение DTD, Сергей Сергеев прислал код для
		 форматирования словарных статей. Добавлены гиперссылки в пределах одного
		 файла. Добиться вызова словаря стало легче.</li>
   <li> 12/12/01 126 Добавлена обработка subtitle, наконец-то убрано ограничение в 90 глав
                 для простого текста, запуск с ключем -d сразу показывает словарь.</li>
   <li> 06/12/01 124 Убрано ограничение размера оглавления, исправлена пара опечаток в
                 настройках XML, вложенные part и section должны нормально показываться.</li>
   <li> 01/12/01 122 Нормально загружются несжатые PDB, Исправлена настройка Old DTD,
		 правильно показываются примечания в полноэкранном режиме, настройка utf-8
		 теперь запоминается как надо, можно настраивать любые кнопки, а не только
		 Record.</li>
   <li> 24/11/01 116 Поправлены настройки старого XML DTD, добавлено выделение текста и
                 копирование в буфер обмена, поворот экрана можно назначить на кнопку.</li>
   <li> 20/11/01 113 Отключил автоматическое показывание панели ввода, пока я не
                 разберусь почему оно криво работает на PPC 2002, поворот кнопок теперь
		 настраивается.</li>
   <li> 20/11/01 112 Исправил поворот картинки на 90 и 270 градусов. Забавно, ведь один
                 раз наступал уже на эти грабли: GetTextExtentExPoint криво работает с повернутыми
		 шрифтами, в отличие от обычного Windows, в котором все как надо.
		 Исправил веселую галку "Use old dtd", которая иногда устанавливалась в
		 странное состояние. Кнопки управления курсором теперь поворачиваются
		 вместе с текстом.</li>
   <li> 18/11/01 111 По горячим следам реализовал несколько пожеланий: среди действий,
        которые можно назначить на кнопки, появиль Exit и Back, добавлен переключатель
	использования словаря и слегка подправлена поддержка нового DTD.</li>
   <li> 18/11/01 110 Добавлена/исправлена масса вещей, лень все перечислять.
        Поддержка нового DTD экспериментальная и не без глюков, для практического
	использования она пока непригодна.</li>
   <li> 25/10/01 101 Причина торможения найдена и истреблена.</li>
   <li> 25/10/01 100 Еще раз перекроил код для рисования, если уж и это не поможет,
                 то смотреть надо совсем в другую сторону, в
		 HKCU\Software\Haali\Reader\Parameters\ZipEncoding теперь можно
		 прописать свою кодировку из списка в Options|File format, если
		 не подходит windows-1251 по умолчанию.</li>
   <li> 24/10/01 99 Я изменил код для отрисовки текста, хотя и не верю, что это
                 поможет тем, кто жаловался на очень медленный вывод текста. В целом
		 должно работать немного быстрее. Изменен формат хранения закладок
		 и последних позиций в файлах, при запуске этой версии старые
		 закладки пропадут.</li>
   <li> 23/10/01 96 Переписан загрузчик XML, теперь можно настроить отображение
                 элементов по вкусу, исправлен дурацкий глюк, в результате которого
		 кодировка XML документов всегда устанавливалась в windows-1251,
		 улучшен поиск в словаре, слово для поиска теперь можно редактировать,
		 при появлении диалогов поиска и закладок автоматически открывается
		 экранная клавиатура, всякие мелочи добавлены/поправлены.</li>
   <li> 18/10/01 89 Изменено меню, добавлены кодировки iso-8859-5 и windows-1252,
                 исправлена подсветка найденного текста при поиске.</li>
   <li> 14/10/01 88 Поправил несколько глюков и переименовал программу в
                 Haali Reader.</li>
   <li> 13/10/01 84 В 83 не отключался cleartype :)</li>
   <li> 13/10/01 83 Добавлены шрифты разного размера, заголовки теперь выводятся
                 крупными буквами. Тестировал эту версию не очень много, так что могут
		 быть глюки.</li>
   <li> 11/10/01 81 Разные мелочи поправлены/улучшены.</li>
   <li> 08/10/01 80 Теперь можно переназначить кнопку Record прямо из TextView,
                 изменено меню, поправлены мелкие глюки, которые я сам заметил,
		 ZIP архивы в которых лежит только один файл, сразу открывают его, не
		 показывая список файлов в архиве.</li>
   <li> 07/10/01 78 Проблема с XML на ARM, похоже, решена. Большое спасибо
	         Николаю Кетсарису
                 за выяснение причин этого глюка. Expat не работает на ARM при компиляции с
		 оптимизацией -Ox, теперь оставлено только -Os.</li>
   <li> 05/10/01 Собрал отладочную версию для PocketPC/ARM, и конечно она заработала. Те,
                 кому позарез нужен XML, и кого не смущает большой размер, могу взять ее
		 <a href="TextViewNG.PPC.ARM.debug.exe">здесь</a>, пока я выясняю что же
		 это за странный баг, проявляющийся только на iPaq и только в Release build.
		 Видимо, гдето портится память, но из-за отсутствия у меня iPaqa,
		 поймать это малореально.</li>
   <li> 05/10/01 Поменял настройки XML парсера, не думаю, что это поможет, но вдруг...</li>
   <li> 04/10/01 Говорят, что на ipaq глючит XML парсер, будем разбираться.</li>
   <li> 04/10/01 73 Больше не падает при попытке открыть глючный XML, всякие мелочи
                 добавлены/поправлены.</li>
   <li> 03/10/01 71 Оглавление теперь более пригодно для использования по назначению,
                 при просмотре словаря можно выделить текст и нажать ... для повторного
		 поиска, еще что-то поправлено.</li>
   <li> 03/10/01 70 Основательно переделаны закладки и оглавление, в заголовке всегда
                 показываетс "Text View", добавлена возможность переопределять кнопки.</li>
   <li> 03/10/01 66 Посмотрел, что версию для WinCE 2.0 даже скачивали несколько раз и
                 доделал поддержку 2.0. Сделал человеческую подсветку при поиске (теперь
		 только найденный текст, а не вся строка), поправил мелкий глюк с
		 переносами и добавил форматирование текста по центру и по правому краю
		 (пока нигде не используется).</li>
   <li> 02/10/01 65 Добавлена куча всего. Закладки, XML, улучшения в чтении PDB, все и
                 не упомнить. Марк Липсман прислал алгоритм расстановки переносов,
		 так что теперь они появятся и в XML файлах. Версия тестировалась мало,
		 возможно в ней будут баги :). Я не стал собирать версию для WinCE 2.0,
		 из-за того что в 2.0 отсутствуют очередные полезные методы, да и никто
		 ей не пользуется.</li>
   <li> 28/09/01 Улучшена поддержка prc/pdb файлов.</li>
   <li> 27/09/01 Версия для WinCE 2.0 собрана со встроенным mfc (dll не нужна).</li>
   <li> 27/09/01 Исправил прикольный баг с сохранением настроек нижнего поля.</li>
   <li> 27/09/01 Без особых извратов удалось собрать TextView под WinCE 2.0. Интересно,
        много их еще в живых осталось?</li>
   <li> 26/09/01 Приведен в порядок код для чтения zip файлов, правильно прорисовывается
        указатель положения в двухколоночном режиме и добавлена поддержка pdb/prc файлов.
	Пока понимается только простой txt внутри такого файла.</li>
   <li> 25/09/01 Исправил ошибку, приводившую к segfault при старте на HPC 2000 (и
        возможно PsPC), большое спасибо К. Широву за помощь в поиске этого бага.
	Пробел теперь листает на страницу вперед.</li>
   <li> 22/09/01 Похоже, что TextViewNG не работает на Casio E15, E105 и Jornada 720, но
        найти ошибку пока не пердставляется возможным, так как на PocketPC этот глюк не
	воспроизводится, а других КПК у меня в распоряжении нет. Если у кого-нибудь из
	обладателей этих машин есть возможность, пожалуйста, скачайте исходники, запустите
	TextViewNG под отладчиком и пришлите мне call stack и файл/строку в которой
	наблюдается exception.</li>
   <li> 21/09/01 27 Вместо gzip сделана поддержка обычных .zip архивов, причем файлы
        больше не считываются в память целиком. Зато, теперь могут случаться тормоза
	при листании сжатых файлов назад, не пугайтесь, это нормально. Величина тормозов
	зависит от размера файла (не всего архива, а только того файла, который
	просматривается в данный момент). Задержки происходят из-за того, что в потоке
	сжатых данных нельзя перейти назад, можно только продолжать разворачивать архив
	дальше или начать все сначала (что и делается). Скачал наконец HPC 2000 SDK и
	сделал версию под HPC 2000.<br></br>Добавление новых возможностей в TextView пока
	не планируется, будут только исправления ошибок (если найдутся), пора и мне тоже
	книжки почитать :)<br></br></li>
   <li> 18/09/01 Поправлен словарь.</li>
   <li> 18/09/01 Поправлено много мелочей, добавлено простенькое оглавление.</li>
   <li> 15/09/01 Случано сломал свеженаписаный код для расстановки переносов :) - исправлено.
                 Также была сломана кодировка utf8 (были шансы получить зависание программы
		 при ее выборе) - тоже исправлено.</li>
   <li> 14/09/01 Поправил мелкие глюки в отрисовке последней строки при листании назад.</li>
   <li> 14/09/01 Добавил использование переносов, если они есть в тексте. Примитивное
                 форматирование текста цветами (нигде пока не используется, так как нет
		 HTML парсера). Вынес настройки цветов в отдельный диалог. Сделал
		 частичный fullscreen для PsPC (убирается только меню, но не taskbar).
		 Иногда могли не сохраняться настройки кодировки для файла,
		 поправил это.</li>
   <li> 11/09/01 Поправил очень неприятный недочет, проявляющийся когда не удается
                 открыть последний просмотренный файл, теперь вместо выхода из
		 программы показывается окно Open.</li>
   <li> 11/09/01 Исправлено несколько мелочей, собрал TextView под PsPC, но
                 проверить могу только на эмуляторе и на PocketPC.</li>
   <li> 10/09/01 Добавлена поддержка utf8, убрал ссылки на старую версию.</li>
   <li> 09/09/01 Наконец то доделал новую версию, теперь есть команда File|Open,
                 автоматически распаковываются GZip файлы, можно запустить только одну
		 копию TextView. TextViewNG больше не прописывается обработчиком .txt
		 файлов, кодировка и формат файла теперь запоминаются вместе с
		 последней позицией в файле, так что, если автоматически неправильно
		 определяется формат или кодировка, достаточно сменить их только один раз.
		 Наверняка есть еще какие-то изменения, о которых я просто не помню.</li>
   <li> 06/09/01 Из-за внутренней кривости первой версии переписал почти все с нуля.
                 Через пару дней доделаю недостающие части и выложу здесь.</li>
   <li> 29/08/01 Добавлена возможность менять ширину полей и исправлены неточности в
                 реализации режима форматирования по ширине.</li>
  </ul>
  
<hr noshade="1">
<div class="update">Последнее обновление: 2002/09/04 12:29</div>
Автор: <a href="mailto:mike@haali.net">Михаил Мацнев, mike@haali.net</a>

 </body>
</html>